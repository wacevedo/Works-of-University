CREATE TABLE CONSULTA 
    ( 
     ID_CONSULTA NUMBER  NOT NULL , 
     ID_PACIENTE NUMBER  NOT NULL , 
     ID_DOCTOR NUMBER  NOT NULL , 
     ID_HABITACION NUMBER , 
     SINTOMAS VARCHAR2 (100 BYTE)  NOT NULL , 
     DIAGNOSTICO VARCHAR2 (100 BYTE) , 
     TRATAMIENTO VARCHAR2 (100 BYTE)  NOT NULL , 
     FECHAALTA DATE , 
     FECHACONSULTA DATE  NOT NULL 
    ) 
        PCTFREE 10 
        PCTUSED 40 
        MAXTRANS 255 
        TABLESPACE USERS 
        LOGGING 
        STORAGE ( 
        INITIAL 65536 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT 
    ) 
;


CREATE UNIQUE INDEX CONSULTA_PK ON CONSULTA 
    ( 
     ID_CONSULTA ASC 
    ) 
    TABLESPACE USERS 
    PCTFREE 10 
    MAXTRANS 255 
    STORAGE ( 
        INITIAL 65536 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT ) 
    LOGGING 
;

ALTER TABLE CONSULTA 
    ADD CONSTRAINT CONSULTA_PK PRIMARY KEY ( ID_CONSULTA ) 
    USING INDEX CONSULTA_PK ;



CREATE TABLE DOCTOR 
    ( 
     ID_DOCTOR NUMBER  NOT NULL , 
     NOMBRE VARCHAR2 (50 BYTE)  NOT NULL , 
     ESPECIALIDAD VARCHAR2 (20 BYTE)  NOT NULL 
    ) 
        PCTFREE 10 
        PCTUSED 40 
        MAXTRANS 255 
        TABLESPACE USERS 
        LOGGING 
        STORAGE ( 
        INITIAL 65536 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT 
    ) 
;


CREATE UNIQUE INDEX DOCTOR_PK ON DOCTOR 
    ( 
     ID_DOCTOR ASC 
    ) 
    TABLESPACE USERS 
    PCTFREE 10 
    MAXTRANS 255 
    STORAGE ( 
        INITIAL 65536 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT ) 
    LOGGING 
;

ALTER TABLE DOCTOR 
    ADD CONSTRAINT DOCTOR_PK PRIMARY KEY ( ID_DOCTOR ) 
    USING INDEX DOCTOR_PK ;



CREATE TABLE HABITACION 
    ( 
     ID_HABITACION NUMBER  NOT NULL , 
     NUMERO_HABI VARCHAR2 (20 BYTE)  NOT NULL , 
     CAPACIDAD NUMBER  NOT NULL , 
     DESCRIPCION VARCHAR2 (100 BYTE)  NOT NULL 
    ) 
        PCTFREE 10 
        PCTUSED 40 
        MAXTRANS 255 
        TABLESPACE USERS 
        LOGGING 
        STORAGE ( 
        INITIAL 65536 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT 
    ) 
;


CREATE UNIQUE INDEX HABITACION_PK ON HABITACION 
    ( 
     ID_HABITACION ASC 
    ) 
    TABLESPACE USERS 
    PCTFREE 10 
    MAXTRANS 255 
    STORAGE ( 
        INITIAL 65536 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT ) 
    LOGGING 
;

ALTER TABLE HABITACION 
    ADD CONSTRAINT HABITACION_PK PRIMARY KEY ( ID_HABITACION ) 
    USING INDEX HABITACION_PK ;



CREATE TABLE PACIENTE 
    ( 
     ID_PACIENTE NUMBER  NOT NULL , 
     NOMBRE VARCHAR2 (50 BYTE)  NOT NULL , 
     APELLIDO VARCHAR2 (50 BYTE)  NOT NULL , 
     DIRECCION VARCHAR2 (50 BYTE) , 
     EDAD NUMBER  NOT NULL , 
     CEDULA VARCHAR2 (13 BYTE) , 
     PESO NUMBER  NOT NULL , 
     SEXO VARCHAR2 (1 BYTE)  NOT NULL 
    ) 
        PCTFREE 10 
        PCTUSED 40 
        MAXTRANS 255 
        TABLESPACE USERS 
        LOGGING 
        STORAGE ( 
        INITIAL 65536 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT 
    ) 
;


CREATE UNIQUE INDEX PACIENTE_PK ON PACIENTE 
    ( 
     ID_PACIENTE ASC 
    ) 
    TABLESPACE USERS 
    PCTFREE 10 
    MAXTRANS 255 
    STORAGE ( 
        INITIAL 65536 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT ) 
    LOGGING 
;

ALTER TABLE PACIENTE 
    ADD CONSTRAINT PACIENTE_PK PRIMARY KEY ( ID_PACIENTE ) 
    USING INDEX PACIENTE_PK ;




ALTER TABLE CONSULTA 
    ADD CONSTRAINT CONSULTA_DOCTOR_FK1 FOREIGN KEY 
    ( 
     ID_DOCTOR
    ) 
    REFERENCES DOCTOR 
    ( 
     ID_DOCTOR
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE CONSULTA 
    ADD CONSTRAINT CONSULTA_HABITACION_FK1 FOREIGN KEY 
    ( 
     ID_HABITACION
    ) 
    REFERENCES HABITACION 
    ( 
     ID_HABITACION
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE CONSULTA 
    ADD CONSTRAINT CONSULTA_PACIENTE_FK1 FOREIGN KEY 
    ( 
     ID_PACIENTE
    ) 
    REFERENCES PACIENTE 
    ( 
     ID_PACIENTE
    ) 
    NOT DEFERRABLE 
;
